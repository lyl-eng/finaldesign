# Griptapeä¸DeepSeekæ”¯æŒè¯´æ˜

## å½“å‰å®ç°æƒ…å†µ

### 1. Griptapeæ¡†æ¶çš„ä½¿ç”¨çŠ¶æ€

**é‡è¦è¯´æ˜**ï¼šå½“å‰å®ç°ä¸­ï¼Œ**Griptapeæ¡†æ¶å¹¶æœªçœŸæ­£ç”¨äºLLMè°ƒç”¨**ã€‚

- âœ… **Griptapeå·²å¯¼å…¥**ï¼šä»£ç ä¸­å°è¯•å¯¼å…¥Griptapeæ¡†æ¶
- âŒ **æœªå®é™…ä½¿ç”¨**ï¼šå®é™…çš„LLMè°ƒç”¨ä½¿ç”¨çš„æ˜¯**è‡ªå®šä¹‰çš„LLMRequesterç³»ç»Ÿ**
- ğŸ“ **é¢„ç•™æ¥å£**ï¼šGriptapeå·¥ä½œæµåªæ˜¯é¢„ç•™äº†æ¥å£ï¼Œä½†å½“å‰å·¥ä½œæµæ‰§è¡Œå¹¶æœªä½¿ç”¨å®ƒ

### 2. å®é™…çš„LLMè°ƒç”¨æ¶æ„

```
å¤šæ™ºèƒ½ä½“Agent
    â†“
LLMRequester (è‡ªå®šä¹‰ç³»ç»Ÿ)
    â†“
æ ¹æ®å¹³å°åˆ†å‘
    â”œâ”€ OpenAIå…¼å®¹ â†’ OpenaiRequester (DeepSeekèµ°è¿™é‡Œ)
    â”œâ”€ Anthropic â†’ AnthropicRequester
    â”œâ”€ Google â†’ GoogleRequester
    â””â”€ å…¶ä»–å¹³å°...
```

## DeepSeekæ”¯æŒæƒ…å†µ

### âœ… å®Œå…¨æ”¯æŒDeepSeek

**DeepSeeké€šè¿‡OpenAIå…¼å®¹çš„APIè°ƒç”¨**ï¼š

1. **APIæ ¼å¼**ï¼šDeepSeekä½¿ç”¨OpenAIå…¼å®¹çš„APIæ ¼å¼
2. **è°ƒç”¨è·¯å¾„**ï¼šåœ¨`LLMRequester.py`ä¸­ï¼Œå¦‚æœå¹³å°ä¸æ˜¯ç‰¹å®šå¹³å°ï¼ˆsakuraã€LocalLLMç­‰ï¼‰ï¼Œä¼šèµ°`else`åˆ†æ”¯ï¼Œä½¿ç”¨`OpenaiRequester`
3. **ç‰¹æ®Šå¤„ç†**ï¼š`OpenaiRequester`ä¸­æœ‰ä¸“é—¨é’ˆå¯¹DeepSeekæ¨¡å‹çš„ç‰¹æ®Šå¤„ç†ï¼š

```python
# ModuleFolders/LLMRequester/OpenaiRequester.py ç¬¬37è¡Œ
if 'deepseek' in model_name.lower():
    # é’ˆå¯¹deepseekæ¨¡å‹çš„ç‰¹æ®Šå¤„ç†
    if messages and isinstance(messages[-1], dict) and messages[-1].get('role') != 'user':
        messages = messages[:-1]  # ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ 
```

### å½“å‰é…ç½®

ä»ä½ çš„é…ç½®æ–‡ä»¶çœ‹ï¼š
- **å¹³å°**: `deepseek`
- **APIæ ¼å¼**: `OpenAI` (OpenAIå…¼å®¹)
- **APIåœ°å€**: `https://api.deepseek.com/v1`
- **æ¨¡å‹**: `deepseek-chat`

æ‰€ä»¥DeepSeekæ˜¯**å®Œå…¨æ”¯æŒçš„**ï¼Œå¹¶ä¸”æ­£åœ¨ä½¿ç”¨ä¸­ã€‚

## Griptapeä¸OpenAIçš„å…³ç³»

### Griptapeé»˜è®¤è¡Œä¸º

Griptapeæ¡†æ¶**é»˜è®¤**ä½¿ç”¨OpenAIçš„API keyæ¥è°ƒç”¨GPTæ¨¡å‹ã€‚ä½†ï¼š

1. **å½“å‰å®ç°æœªä½¿ç”¨Griptapeè°ƒç”¨LLM**
   - å¤šæ™ºèƒ½ä½“ç³»ç»Ÿä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„`LLMRequester`
   - ä¸ä¾èµ–Griptapeçš„LLMè°ƒç”¨æœºåˆ¶

2. **å¦‚æœè¦ä½¿ç”¨Griptapeè°ƒç”¨LLM**
   - éœ€è¦é…ç½®Griptapeä½¿ç”¨è‡ªå®šä¹‰çš„LLMé©±åŠ¨
   - å¯ä»¥é…ç½®Griptapeä½¿ç”¨OpenAIå…¼å®¹çš„APIï¼ˆåŒ…æ‹¬DeepSeekï¼‰

### å¦‚ä½•è®©Griptapeæ”¯æŒDeepSeekï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœå°†æ¥è¦çœŸæ­£ä½¿ç”¨Griptapeæ¡†æ¶è°ƒç”¨LLMï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š

```python
from griptape.drivers import OpenAiChatPromptDriver
from griptape.structures import Workflow
from openai import OpenAI

# åˆ›å»ºè‡ªå®šä¹‰çš„OpenAIå®¢æˆ·ç«¯ï¼ˆæŒ‡å‘DeepSeekï¼‰
deepseek_client = OpenAI(
    api_key="your-deepseek-api-key",
    base_url="https://api.deepseek.com/v1"
)

# åˆ›å»ºGriptapeçš„Prompt Driver
driver = OpenAiChatPromptDriver(
    model="deepseek-chat",
    client=deepseek_client
)

# åˆ›å»ºWorkflowå¹¶æŒ‡å®šdriver
workflow = Workflow(prompt_driver=driver)
```

## å½“å‰æ¶æ„æ€»ç»“

### å®é™…ä½¿ç”¨çš„ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å¤šæ™ºèƒ½ä½“å·¥ä½œæµ (è‡ªå®šä¹‰å®ç°)        â”‚
â”‚   - PreprocessingAgent              â”‚
â”‚   - TerminologyEntityAgent          â”‚
â”‚   - TranslationRefinementAgent      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LLMRequester (è‡ªå®šä¹‰ç³»ç»Ÿ)          â”‚
â”‚   - æ”¯æŒå¤šç§å¹³å°                     â”‚
â”‚   - OpenAIå…¼å®¹ (DeepSeek)            â”‚
â”‚   - Anthropic                        â”‚
â”‚   - Google                          â”‚
â”‚   - ç­‰ç­‰...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DeepSeek API                      â”‚
â”‚   https://api.deepseek.com/v1       â”‚
â”‚   æ¨¡å‹: deepseek-chat               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Griptapeçš„çŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Griptapeæ¡†æ¶ (å·²å¯¼å…¥ä½†æœªä½¿ç”¨)       â”‚
â”‚   - é¢„ç•™äº†æ¥å£                       â”‚
â”‚   - å¯ä»¥ç”¨äºæœªæ¥æ‰©å±•                 â”‚
â”‚   - å½“å‰ä¸å½±å“åŠŸèƒ½                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å›ç­”ä½ çš„é—®é¢˜

### Q1: Griptapeä¸æ˜¯é€šè¿‡OpenAIçš„API keyæ¥è°ƒç”¨GPTå—ï¼Ÿ

**A**: 
- âœ… Griptape**é»˜è®¤**ä½¿ç”¨OpenAI APIè°ƒç”¨GPT
- âŒ ä½†**å½“å‰å®ç°æ²¡æœ‰ä½¿ç”¨Griptapeæ¥è°ƒç”¨LLM**
- âœ… ä½¿ç”¨çš„æ˜¯**è‡ªå®šä¹‰çš„LLMRequesterç³»ç»Ÿ**

### Q2: ç°åœ¨æ˜¯è°ƒç”¨çš„DeepSeekå—ï¼Ÿ

**A**: 
- âœ… **æ˜¯çš„**ï¼Œå½“å‰æ­£åœ¨è°ƒç”¨DeepSeek
- âœ… é€šè¿‡`OpenaiRequester`è°ƒç”¨ï¼ˆå› ä¸ºDeepSeekä½¿ç”¨OpenAIå…¼å®¹çš„APIï¼‰
- âœ… æ¨¡å‹æ˜¯`deepseek-chat`

### Q3: æ”¯æŒDeepSeekè°ƒç”¨å—ï¼Ÿ

**A**: 
- âœ… **å®Œå…¨æ”¯æŒ**
- âœ… DeepSeekä½¿ç”¨OpenAIå…¼å®¹çš„APIæ ¼å¼
- âœ… ä»£ç ä¸­æœ‰ä¸“é—¨é’ˆå¯¹DeepSeekçš„ç‰¹æ®Šå¤„ç†
- âœ… å½“å‰é…ç½®å°±æ˜¯ä½¿ç”¨DeepSeek

## æ€»ç»“

1. **Griptape**: å·²å¯¼å…¥ä½†æœªå®é™…ä½¿ç”¨ï¼Œåªæ˜¯é¢„ç•™æ¥å£
2. **DeepSeek**: å®Œå…¨æ”¯æŒï¼Œæ­£åœ¨ä½¿ç”¨ä¸­
3. **è°ƒç”¨æ–¹å¼**: é€šè¿‡è‡ªå®šä¹‰çš„LLMRequesterç³»ç»Ÿï¼Œä½¿ç”¨OpenAIå…¼å®¹çš„APIæ ¼å¼
4. **æ¶æ„**: å¤šæ™ºèƒ½ä½“æ¨¡å¼ + è‡ªå®šä¹‰LLMRequester + DeepSeek API

å½“å‰ç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼ŒDeepSeekè°ƒç”¨æ²¡æœ‰é—®é¢˜ï¼
